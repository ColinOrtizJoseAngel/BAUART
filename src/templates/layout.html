<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>
    
    <!--IMPORTACION LIBRERIAS BOOTSTRAP-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!--IMPORTACION DE CSS EXTERNA-->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styleLayout.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='Buart.ico') }}">

    <!--IMPORTACION CSS-->
    {% block customCSS %}
    {% endblock %}
</head>

<body>
    <!--INICIA NAVAR-->
    <nav class="navbar">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#offcanvasWithBackdrop" aria-controls="offcanvasWithBackdrop">
                <span class="navbar-toggler-icon"></span>
            </button>
            <br>
            <a class="navbar-brand" href="#">
                <img src="{{ url_for('static', filename='img/Bauart-Logo-Pantalla-RGB.MED.JPG') }}" alt="Logo" class="imgnav">
            </a>
            
        </div>
    </nav>
    <!--FIN NAVAR-->
    <!--INICIA MENU-->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasWithBackdrop"
        aria-labelledby="offcanvasWithBackdropLabel">
        <div class="offcanvas-header">
            <div class="container-fluid d-flex justify-content-center align-items-center">
                <img src="{{ url_for('static', filename='img/Bauart-Logo-Pantalla-RGB.MED.JPG') }}" width="250" height="50">
            </div>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <ul class="user-menu list-unstyled">
                <li class="active">
                    <a href="/Home"><i class="bi bi-house"></i> HOME</a>
                    <a href="#ctalogosA" data-bs-toggle="collapse" aria-expanded="false"
                        class="dropdown-toggle"><i class="bi bi-book-half"></i> CATÁLOGOS</a>
                    <ul class="collapse list-unstyled" id="ctalogosA">
                        <li>
                            <a href="/Periodos"><i class="bi bi-calendar-check"></i> PERIODOS</a>
                        </li>
                        <li>
                            <a href="/Empresas"><i class="bi bi-building-fill"></i> EMPRESAS</a>
                        </li>
                        <li>
                            <a href="/Clientes"><i class="bi bi-people-fill"></i> CLIENTES</a>
                        </li>
                        <li>
                            <a href="/Proyectos"><i class="bi bi-tools"></i> OBRA/PROYECTOS</a>
                        </li>
                        <li>
                            <a href="/Empleados"><i class="bi bi-person-raised-hand"></i> EMPLEADOS</a>
                        </li>
                        <li>
                            <a href="/Puestos"><i class="bi bi-person-vcard"></i> PUESTOS </a>
                        </li>
                        <li>
                            <a href="/Proveedores"><i class="bi bi-person-badge"></i> PROVEEDORES</a>
                        </li>
                        <li>
                            <a href="/Especialidades"><i class="bi bi-screwdriver"></i> ESPECIALIDADES</a>
                        </li>
                        <li>
                            <a href="/Categorias"><i class="bi bi-stack"></i> CATEGORÍAS</a>
                        </li>
                        <li>
                            <a href="/Bancos"><i class="bi bi-piggy-bank"></i> BANCOS</a>
                        </li>
                        <li>
                            <a href="/Monederos"><i class="bi bi-cash"></i> MONEDEROS</a>
                        </li>
                        <li>
                            <a href="#"><i class="bi bi-cash-coin"></i> REEMBOLSOS</a>
                        </li>
                        <li>
                            <a href="#"><i class="bi bi-credit-card-2-front"></i> Tipo de Tarjeta</a>
                        </li>
                        <li>
                            <a href="#"><i class="bi bi-credit-card"></i> Tarjeta</a>
                        </li>
                        <li>
                            <a href="#"><i class="bi bi-coin"></i> Caja Chica</a>
                        </li>
                        <li>
                            <a href="#Materiales" data-bs-toggle="collapse" aria-expanded="false"
                                class="dropdown-toggle"><i class="bi bi-book-half"></i> MATERIALES & FAMILIAS</a>
                            <ul class="collapse list-unstyled" id="Materiales">
                                <li>
                                    <a href="/materiales"><i class="bi bi-tools"></i> MATERIALES</a>
                                </li>
                                <li>
                                    <a href="/familias"><i class="bi bi-folder"></i> FAMILIAS</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li class="active">
                    <a href="#administracion" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="bi bi-ui-checks-grid"></i> Administración</a>
                    <ul class="collapse list-unstyled" id="administracion">
                        <li>
                            <a href="/Presupuestos"><i class="bi bi-file-earmark-bar-graph"></i> Presupuestos</a>
                        </li>
                        <li>
                            <a href="#"><i class="bi bi-currency-dollar"></i> Pagos Sugeridos</a>
                        </li>
                        <li>
                            <a href="#"><i class="bi bi-cash-coin"></i> Aplicación de pagos</a>
                        </li>
                        <li>
                            <a href="#"><i class="bi bi-receipt"></i> Carga de estado de cuenta</a>
                        </li>
                    </ul>
                </li>
                <li class="active">
                    <a href="#ordenes" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="bi bi-file-earmark-text"></i> Ordenes</a>
                    <ul class="collapse list-unstyled" id="ordenes">
                        <li>
                            <a href="#"><i class="bi bi-file-text"></i> ODCO</a>
                        </li>
                        <li>
                            <a href="#"><i class="bi bi-file-text-fill"></i> ODCA</a>
                        </li>
                        <li>
                            <a href="#"><i class="bi bi-files-alt"></i> Garantias</a>
                        </li>
                    </ul>
                </li>
                <li class="active">
                    <a href="#nominas" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="bi bi-cash-coin"></i> Nomina</a>
                    <ul class="collapse list-unstyled" id="nominas">
                        <li>
                            <a href="#"><i class="bi bi-cone-striped"></i> Obra</a>
                        </li>
                        <li>
                            <a href="/sabanaasistencias2"><i class="bi bi-clipboard2-data-fill"></i> Resumen Semanal de Nomina</a>
                        </li>
                    </ul>
                </li>
                <li class="active">
                    <a href="#compras" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="bi bi-cart"></i> Compras</a>
                    <ul class="collapse list-unstyled" id="compras">
                        <li>
                            <a href="/ConsultarRequisiciones"><i class="bi bi-list-ol"></i> Requisiciones</a>
                        </li>
                    </ul>
                </li>
                <li class="active">
                    <a href="#reportes" data-bs-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><i class="bi bi-file-bar-graph"></i> Reportes</a>
                    <ul class="collapse list-unstyled" id="reportes">
                        <li>
                            <a href="#"><i class="bi bi-file-earmark-arrow-down"></i> Generaror reportes A</a>
                        </li>
                        <li>
                            <a href=""><i class="bi bi-file-earmark-arrow-down-fill"></i>Generaror reportes B</a></li>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="offcanvas-end">
            <div class="container-fluid info_user">
                <br>
                {% if current_user.is_authenticated %}
                <p>USUARIO: {{ current_user.usuario }}</p> 
                {% if empresas %}
                <p>EMPRESA: {{ empresas.razon_social }}</p>
                {% else %}
                <p>No hay información de la empresa.</p>
                {% endif %}
                <p>CORREO: {{ current_user.email}}</p>
                {% endif %}
                <div class="text-center">
                    <a href="{{ url_for('logout') }}" class=" btn btn-cerrar-session"><i class="bi bi-person-walking"></i> CERRAR SESIÓN</a>
                </div>
                <br>
            </div>
        </div>
    </div>
    <!--FIN MENU-->
    
    <!-- TITULO DE PATALLA -->
    <nav class="navbar" style="background-color: #0f2d3a; color: #fff;">
        <div class="container-fluid">
            <h4 class="xnu">{% block titutlo %}{% endblock %}</h4>
        </div>
    </nav>
    <!-- FIN TITULO DE PATALLA -->
    
    <!--INICIA CONTENIDO DE PLANTILLA-->
    {% block content %}
    {% endblock %}
    <!--FIN CONTENIDO DE PLANTILLA-->

    <script>

        document.addEventListener('keydown', function(event) {
            if (event.key === "Enter") {
                event.preventDefault(); // Evita que se envíe el formulario al presionar Enter
            }
        });
    
        
    </script>

    <!--sweetalert2-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- IMPORTAR JS -->
    <script src="{{ url_for('static', filename='JS/funciones_layout.js') }}"></script>
    
    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const table = document.querySelector('.resizable-table');
            const cols = table.querySelectorAll('col');
            const ths = table.querySelectorAll('th');
     
            ths.forEach((th, index) => {
                const resizer = document.createElement('div');
                resizer.classList.add('resizer');
                th.appendChild(resizer);
     
                resizer.addEventListener('mousedown', initResize);
     
                function initResize(e) {
                    window.addEventListener('mousemove', resize);
                    window.addEventListener('mouseup', stopResize);
                }
     
            function resize(e) {
                const col = cols[index];
                    const newWidth = e.pageX - th.getBoundingClientRect().left;
                    th.style.width = newWidth + 'px';
                    col.style.width = newWidth + 'px';
     
                    // Ajustar el contenido de las celdas
                    const cells = table.querySelectorAll(`tbody tr td:nth-child(${index + 1})`);
                    cells.forEach(cell => {
                            cell.style.width = newWidth + 'px';
                        });
                    }
     
                    function stopResize() {
                         window.removeEventListener('mousemove', resize);
                         window.removeEventListener('mouseup', stopResize);
                     }
                 });
             });
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC5d1sYQrIOy1ZYlN-pgQkZsEIuZWTRNfI&libraries=places&callback=initMap" async defer></script>
     
</body>

</html>